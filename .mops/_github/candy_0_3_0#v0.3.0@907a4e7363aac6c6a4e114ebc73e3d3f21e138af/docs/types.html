<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="candid.html">candid</a></li></li><li><li><a href="clone.html">clone</a></li></li><li><li><a href="conversion.html">conversion</a></li></li><li><li><a href="hex.html">hex</a></li></li><li><li><a href="json.html">json</a></li></li><li><li><a href="properties.html">properties</a></li></li><li><li><a href="types.html">types</a></li></li><li><li><a href="upgrade.html">upgrade</a></li></li><li><li><a href="workspace.html">workspace</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Properties">Properties</a></li></li><li><li><a href="#type.Property">Property</a></li></li><li><li><a href="#type.UpdateRequestShared">UpdateRequestShared</a></li></li><li><li><a href="#type.UpdateShared">UpdateShared</a></li></li><li><li><a href="#type.UpdateModeShared">UpdateModeShared</a></li></li><li><li><a href="#type.PropertyShared">PropertyShared</a></li></li><li><li><a href="#type.PropertiesShared">PropertiesShared</a></li></li><li><li><a href="#type.PropertySharedError">PropertySharedError</a></li></li><li><li><a href="#type.Query">Query</a></li></li><li><li><a href="#type.QueryMode">QueryMode</a></li></li><li><li><a href="#type.UpdateRequest">UpdateRequest</a></li></li><li><li><a href="#type.Update">Update</a></li></li><li><li><a href="#type.UpdateMode">UpdateMode</a></li></li><li><li><a href="#type.CandyShared">CandyShared</a></li></li><li><li><a href="#type.Candy">Candy</a></li></li><li><li><a href="#type.DataChunk">DataChunk</a></li></li><li><li><a href="#type.DataZone">DataZone</a></li></li><li><li><a href="#type.Workspace">Workspace</a></li></li><li><li><a href="#type.AddressedChunk">AddressedChunk</a></li></li><li><li><a href="#type.AddressedChunkArray">AddressedChunkArray</a></li></li><li><li><a href="#type.AddressedChunkBuffer">AddressedChunkBuffer</a></li></li><li><li><a href="#shareCandy">shareCandy</a></li></li><li><li><a href="#unshare">unshare</a></li></li><li><li><a href="#shareProperty">shareProperty</a></li></li><li><li><a href="#unshareProperty">unshareProperty</a></li></li><li><li><a href="#shareCandyArray">shareCandyArray</a></li></li><li><li><a href="#unshareArray">unshareArray</a></li></li><li><li><a href="#shareCandyBuffer">shareCandyBuffer</a></li></li><li><li><a href="#toBuffer">toBuffer</a></li></li><li><li><a href="#hash">hash</a></li></li><li><li><a href="#eq">eq</a></li></li><li><li><a href="#candyMapHashTool">candyMapHashTool</a></li></li><li><li><a href="#hashShared">hashShared</a></li></li><li><li><a href="#eqShared">eqShared</a></li></li><li><li><a href="#candySharedMapHashTool">candySharedMapHashTool</a></li></li></ul></nav><div class="documentation"><h1>types</h1><p>Types for the candy library.</p>
<p>This module contains the types that denote candy values, properties 
and workspace.
It also contains a few converstion functions to serialize/deserialize
&amp; stabilize/destabilize candy values.</p>
<div class="declaration"><h4 class="type-declaration" id="type.Properties"><span class="keyword">type </span><span class="type">Properties</span> = <span class="type">Map.Map</span>&lt;<span class="type">Text</span>, <a href="#type.Property"><span class="type">Property</span></a>&gt;</h4><p><p>A collection of <code>Property</code>.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Property"><span class="keyword">type </span><span class="type">Property</span> = { name : <span class="type">Text</span>; value : <a href="#type.Candy"><span class="type">Candy</span></a>; immutable : <span class="type">Bool</span> }</h4><p><p>Specifies a single unstable property.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.UpdateRequestShared"><span class="keyword">type </span><span class="type">UpdateRequestShared</span> = { id : <span class="type">Text</span>; update : [<a href="#type.UpdateShared"><span class="type">UpdateShared</span></a>] }</h4><p><p>Specifies the unstable properties that should be updated to a certain value.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.UpdateShared"><span class="keyword">type </span><span class="type">UpdateShared</span> = { name : <span class="type">Text</span>; mode : <a href="#type.UpdateModeShared"><span class="type">UpdateModeShared</span></a> }</h4><p><p>Update information for a single property.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.UpdateModeShared"><span class="keyword">type </span><span class="type">UpdateModeShared</span> = {#Set : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>; #Lock : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>; #Next : [<a href="#type.UpdateShared"><span class="type">UpdateShared</span></a>]}</h4><p><p>Mode for the update operation.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.PropertyShared"><span class="keyword">type </span><span class="type">PropertyShared</span> = { name : <span class="type">Text</span>; value : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>; immutable : <span class="type">Bool</span> }</h4><p><p>Specifies a single property.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.PropertiesShared"><span class="keyword">type </span><span class="type">PropertiesShared</span> = [<a href="#type.PropertyShared"><span class="type">PropertyShared</span></a>]</h4><p><p>A collection of <code>PropertyShared</code>.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.PropertySharedError"><span class="keyword">type </span><span class="type">PropertySharedError</span> = {#Unauthorized; #NotFound; #InvalidRequest; #AuthorizedPrincipalLimitReached : <span class="type">Nat</span>; #Immutable}</h4><p><p>Specifies an error which occurred during an operation on a <code>PropertyShared</code>.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Query"><span class="keyword">type </span><span class="type">Query</span> = { name : <span class="type">Text</span>; next : [<a href="#type.Query"><span class="type">Query</span></a>] }</h4><p><p>Specifies the properties that should be queried.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.QueryMode"><span class="keyword">type </span><span class="type">QueryMode</span> = {#All; #Some : [<a href="#type.Query"><span class="type">Query</span></a>]}</h4><p><p>Mode for the query operation.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.UpdateRequest"><span class="keyword">type </span><span class="type">UpdateRequest</span> = { id : <span class="type">Text</span>; update : [<a href="#type.Update"><span class="type">Update</span></a>] }</h4><p><p>Specifies the properties that should be updated to a certain value.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Update"><span class="keyword">type </span><span class="type">Update</span> = { name : <span class="type">Text</span>; mode : <a href="#type.UpdateMode"><span class="type">UpdateMode</span></a> }</h4><p><p>Update information for a single property.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.UpdateMode"><span class="keyword">type </span><span class="type">UpdateMode</span> = {#Set : <a href="#type.Candy"><span class="type">Candy</span></a>; #Lock : <a href="#type.Candy"><span class="type">Candy</span></a>; #Next : [<a href="#type.Update"><span class="type">Update</span></a>]}</h4><p><p>Mode for the update operation.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.CandyShared"><span class="keyword">type </span><span class="type">CandyShared</span> = {#Int : <span class="type">Int</span>; #Int8 : <span class="type">Int8</span>; #Int16 : <span class="type">Int16</span>; #Int32 : <span class="type">Int32</span>; #Int64 : <span class="type">Int64</span>; #Ints : [<span class="type">Int</span>]; #Nat : <span class="type">Nat</span>; #Nat8 : <span class="type">Nat8</span>; #Nat16 : <span class="type">Nat16</span>; #Nat32 : <span class="type">Nat32</span>; #Nat64 : <span class="type">Nat64</span>; #Float : <span class="type">Float</span>; #Text : <span class="type">Text</span>; #Bool : <span class="type">Bool</span>; #Blob : <span class="type">Blob</span>; #Class : [<a href="#type.PropertyShared"><span class="type">PropertyShared</span></a>]; #Principal : <span class="type">Principal</span>; #Option : ?<a href="#type.CandyShared"><span class="type">CandyShared</span></a>; #Array : [<a href="#type.CandyShared"><span class="type">CandyShared</span></a>]; #Nats : [<span class="type">Nat</span>]; #Floats : [<span class="type">Float</span>]; #Bytes : [<span class="type">Nat8</span>]; #Map : [(<a href="#type.CandyShared"><span class="type">CandyShared</span></a>, <a href="#type.CandyShared"><span class="type">CandyShared</span></a>)]; #Set : [<a href="#type.CandyShared"><span class="type">CandyShared</span></a>]}</h4><p><p>The Stable CandyShared.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Candy"><span class="keyword">type </span><span class="type">Candy</span> = {#Int : <span class="type">Int</span>; #Int8 : <span class="type">Int8</span>; #Int16 : <span class="type">Int16</span>; #Int32 : <span class="type">Int32</span>; #Int64 : <span class="type">Int64</span>; #Ints : <span class="type">StableBuffer.StableBuffer</span>&lt;<span class="type">Int</span>&gt;; #Nat : <span class="type">Nat</span>; #Nat8 : <span class="type">Nat8</span>; #Nat16 : <span class="type">Nat16</span>; #Nat32 : <span class="type">Nat32</span>; #Nat64 : <span class="type">Nat64</span>; #Float : <span class="type">Float</span>; #Text : <span class="type">Text</span>; #Bool : <span class="type">Bool</span>; #Blob : <span class="type">Blob</span>; #Class : <span class="type">Map.Map</span>&lt;<span class="type">Text</span>, <a href="#type.Property"><span class="type">Property</span></a>&gt;; #Principal : <span class="type">Principal</span>; #Floats : <span class="type">StableBuffer.StableBuffer</span>&lt;<span class="type">Float</span>&gt;; #Nats : <span class="type">StableBuffer.StableBuffer</span>&lt;<span class="type">Nat</span>&gt;; #Array : <span class="type">StableBuffer.StableBuffer</span>&lt;<a href="#type.Candy"><span class="type">Candy</span></a>&gt;; #Option : ?<a href="#type.Candy"><span class="type">Candy</span></a>; #Bytes : <span class="type">StableBuffer.StableBuffer</span>&lt;<span class="type">Nat8</span>&gt;; #Map : <span class="type">Map.Map</span>&lt;<a href="#type.Candy"><span class="type">Candy</span></a>, <a href="#type.Candy"><span class="type">Candy</span></a>&gt;; #Set : <span class="type">Set.Set</span>&lt;<a href="#type.Candy"><span class="type">Candy</span></a>&gt;}</h4><p><p>The Shared CandyShared.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.DataChunk"><span class="keyword">type </span><span class="type">DataChunk</span> = <a href="#type.Candy"><span class="type">Candy</span></a></h4><p><p>Note: A <code>DataChunk</code> should be no larger than 2MB so that it can be shipped to other canisters.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.DataZone"><span class="keyword">type </span><span class="type">DataZone</span> = <span class="type">StableBuffer.StableBuffer</span>&lt;<a href="#type.DataChunk"><span class="type">DataChunk</span></a>&gt;</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Workspace"><span class="keyword">type </span><span class="type">Workspace</span> = <span class="type">StableBuffer.StableBuffer</span>&lt;<a href="#type.DataZone"><span class="type">DataZone</span></a>&gt;</h4><p><p>Workspaces are valueble when using orthogonal persistance to keep track of data in a format 
that is easily transmitable across the wire given IC restrictions</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.AddressedChunk"><span class="keyword">type </span><span class="type">AddressedChunk</span> = (<span class="type">Nat</span>, <span class="type">Nat</span>, <a href="#type.CandyShared"><span class="type">CandyShared</span></a>)</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.AddressedChunkArray"><span class="keyword">type </span><span class="type">AddressedChunkArray</span> = [<a href="#type.AddressedChunk"><span class="type">AddressedChunk</span></a>]</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.AddressedChunkBuffer"><span class="keyword">type </span><span class="type">AddressedChunkBuffer</span> = <span class="type">StableBuffer.StableBuffer</span>&lt;<a href="#type.AddressedChunk"><span class="type">AddressedChunk</span></a>&gt;</h4><p></p></div><div class="declaration"><h4 class="function" id="shareCandy"><code><span class="keyword">public func </span><span class="fnname">shareCandy</span>(<span class="parameter">item</span> : <a href="#type.Candy"><span class="type">Candy</span></a>) : <a href="#type.CandyShared"><span class="type">CandyShared</span></a></code></h4><p><p>Convert a <code>Candy</code> to <code>CandyShared</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let unstable: Candy = #Principal(Principal.fromText(&quot;abc&quot;));
let shareCandy = Types.shareCandy(unstable);</code></pre></p></div><div class="declaration"><h4 class="function" id="unshare"><code><span class="keyword">public func </span><span class="fnname">unshare</span>(<span class="parameter">item</span> : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>) : <a href="#type.Candy"><span class="type">Candy</span></a></code></h4><p><p>Convert a <code>CandyShared</code> to <code>Candy</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let stable: CandyShared = #Principal(Principal.fromText(&quot;abc&quot;));
let unsharedValue = Types.unshare(unstable);</code></pre></p></div><div class="declaration"><h4 class="function" id="shareProperty"><code><span class="keyword">public func </span><span class="fnname">shareProperty</span>(<span class="parameter">item</span> : <a href="#type.Property"><span class="type">Property</span></a>) : <a href="#type.PropertyShared"><span class="type">PropertyShared</span></a></code></h4><p><p>Convert a <code>Property</code> to <code>PropertyShared</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let unstable: Property = {
   name = &quot;name&quot;;
   value = #Principal(Principal.fromText(&quot;abc&quot;));
   immutable = false;
 };
let stablePropertyShared = Types.shareProperty(unstable);</code></pre></p></div><div class="declaration"><h4 class="function" id="unshareProperty"><code><span class="keyword">public func </span><span class="fnname">unshareProperty</span>(<span class="parameter">item</span> : <a href="#type.PropertyShared"><span class="type">PropertyShared</span></a>) : <a href="#type.Property"><span class="type">Property</span></a></code></h4><p><p>Convert a <code>PropertyShared</code> to <code>Property</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let stablePropertyShared: PropertyShared = {
   name = &quot;name&quot;;
   value = #Principal(Principal.fromText(&quot;abc&quot;));
   immutable = true;
 };
let unstablePropertyShared = Types.unshareProperty(stablePropertyShared);</code></pre></p></div><div class="declaration"><h4 class="function" id="shareCandyArray"><code><span class="keyword">public func </span><span class="fnname">shareCandyArray</span>(<span class="parameter">items</span> : [<a href="#type.Candy"><span class="type">Candy</span></a>]) : [<a href="#type.CandyShared"><span class="type">CandyShared</span></a>]</code></h4><p><p>Convert a <code>[Candy]</code> to <code>[CandyShared]</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
 let array: [Candy] = [#Principal(Principal.fromText(&quot;abc&quot;)), #Int(1)];
 let arrayStable = Types.shareCandyArray(array);</code></pre></p></div><div class="declaration"><h4 class="function" id="unshareArray"><code><span class="keyword">public func </span><span class="fnname">unshareArray</span>(<span class="parameter">items</span> : [<a href="#type.CandyShared"><span class="type">CandyShared</span></a>]) : [<a href="#type.Candy"><span class="type">Candy</span></a>]</code></h4><p><p>Convert a <code>[CandyShared]</code> to <code>[Candy]</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
 let arrayStable: [CandyShared] = [#Principal(Principal.fromText(&quot;abc&quot;)), #Int(1)];
 let array = Types.unshareArray(arrayStable);</code></pre></p></div><div class="declaration"><h4 class="function" id="shareCandyBuffer"><code><span class="keyword">public func </span><span class="fnname">shareCandyBuffer</span>(<span class="parameter">items</span> : <a href="#type.DataZone"><span class="type">DataZone</span></a>) : [<a href="#type.CandyShared"><span class="type">CandyShared</span></a>]</code></h4><p><p>Convert a <code>DataZone</code> to <code>[CandyShared]</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
 let dataZone = Types.toBuffer&lt;DataChunk&gt;([#Int32(5), #Int(1)]);
 let sharedValues = Types.shareCandyBuffer(dataZone);</code></pre></p></div><div class="declaration"><h4 class="function" id="toBuffer"><code><span class="keyword">public func </span><span class="fnname">toBuffer</span>&lt;<span class="type">T</span>&gt;(<span class="parameter">x</span> : [<span class="type">T</span>]) : <span class="type">StableBuffer.StableBuffer</span>&lt;<span class="type">T</span>&gt;</code></h4><p><p>Create a <code>Buffer</code> from [T] where T can be of any type.</p>
<p>Example:</p>
<pre><code>motoko include=import
 let array = [1, 2, 3];
 let buf = Types.toBuffer&lt;Nat&gt;(array);  </code></pre></p></div><div class="declaration"><h4 class="function" id="hash"><code><span class="keyword">public func </span><span class="fnname">hash</span>(<span class="parameter">x</span> : <a href="#type.Candy"><span class="type">Candy</span></a>) : <span class="type">Nat</span></code></h4><p><p>Get the hash of the <code>CandyShared</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let x: CandyShared = #Principal(Principal.fromText(&quot;abc&quot;));
let h = Types.hash(x);</code></pre></p></div><div class="declaration"><h4 class="function" id="eq"><code><span class="keyword">public func </span><span class="fnname">eq</span>(<span class="parameter">x</span> : <a href="#type.Candy"><span class="type">Candy</span></a>, <span class="parameter">y</span> : <a href="#type.Candy"><span class="type">Candy</span></a>) : <span class="type">Bool</span></code></h4><p><p>Checks the two <code>CandyShared</code> params for equality.</p>
<p>Example:</p>
<pre><code>motoko include=import
let x: CandyShared = #Int(1);
let y: CandyShared = #Int(2);
let z: CandyShared = #Int(1);
let x_y = Types.eq(x, y); // false
let x_z = Types.eq(x, z); // true</code></pre></p></div><div class="declaration"><h4 class="value-declaration" id="candyMapHashTool"><code><span class="keyword">public let </span><span class="fnname">candyMapHashTool</span> : </code></h4><p></p></div><div class="declaration"><h4 class="function" id="hashShared"><code><span class="keyword">public func </span><span class="fnname">hashShared</span>(<span class="parameter">x</span> : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>) : <span class="type">Nat</span></code></h4><p><p>Get the hash of the <code>Candy</code>.</p>
<p>Example:</p>
<pre><code>motoko include=import
let x: Candy = #Principal(Principal.fromText(&quot;abc&quot;));
let h = Types.hashShared(x);  </code></pre></p></div><div class="declaration"><h4 class="function" id="eqShared"><code><span class="keyword">public func </span><span class="fnname">eqShared</span>(<span class="parameter">x</span> : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>, <span class="parameter">y</span> : <a href="#type.CandyShared"><span class="type">CandyShared</span></a>) : <span class="type">Bool</span></code></h4><p><p>Checks the two <code>CandyShared</code> params for equality.</p>
<p>Example:</p>
<pre><code>motoko include=import
let x: Candy = #Int(1);
let y: Candy = #Int(2);
let z: Candy = #Int(1);
let x_y = Types.eq(x, y); // false
let x_z = Types.eq(x, z); // true</code></pre></p></div><div class="declaration"><h4 class="value-declaration" id="candySharedMapHashTool"><code><span class="keyword">public let </span><span class="fnname">candySharedMapHashTool</span> : </code></h4><p></p></div></div></body></html>